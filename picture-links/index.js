(function(g,a,c,h){"use strict";const{Pressable:l}=a.findByProps("Button","Text","View"),y=a.findByName("ProfileBanner",!1),m=a.findByName("HeaderAvatar",!1),B=a.findByName("GuildIcon",!1),{openMediaModal:S}=a.findByProps("openMediaModal"),{hideActionSheet:P}=a.findByProps("hideActionSheet"),{getChannelId:b}=a.findByStoreName("SelectedChannelStore"),{getGuildId:w}=a.findByStoreName("SelectedGuildStore");function I(i){return new Promise(function(n,e){h.ReactNative.Image.getSize(i,function(t,r){return n({width:t,height:r})},function(t){return e(t)})})}async function u(i,n){const{width:e,height:t}=await I(i);P(),S({initialSources:[{uri:i,sourceURI:i,width:e,height:t,guildId:w(),channelId:b()}],initialIndex:0,originLayout:{width:0,height:0,x:n.pageX,y:n.pageY,resizeMode:"fill"}})}const E=c.after("default",m,function(i,n){let[{user:e,style:t,guildId:r}]=i;var d,o;const v=((d=e.guildMemberAvatars)===null||d===void 0?void 0:d[r])&&`https://cdn.discordapp.com/guilds/${r}/users/${e.id}/avatars/${e.guildMemberAvatars[r]}.png?size=4096`,s=e==null||(o=e.getAvatarURL)===null||o===void 0?void 0:o.call(e,!1,4096,!0);if(!s)return n;const R=typeof s=="number"?`https://cdn.discordapp.com/embed/avatars/${Number(BigInt(e.id)>>22n)%6}.png`:s?.replace(".webp",".png");return delete n.props.style,React.createElement(l,{onPress:function(f){let{nativeEvent:p}=f;return u(R,p)},onLongPress:function(f){let{nativeEvent:p}=f;return v&&u(v,p)},style:t},n)}),z=c.after("default",y,function(i,n){let[{bannerSource:e}]=i;if(typeof e?.uri!="string"||!n)return n;const t=e.uri.replace(/(?:\?size=\d{3,4})?$/,"?size=4096").replace(".webp",".png");return React.createElement(l,{onPress:function(r){let{nativeEvent:d}=r;return u(t,d)}},n)}),A=c.after("default",B,function(i,n){let[{size:e,guild:t}]=i;if(e!=="XLARGE")return;const r=`https://cdn.discordapp.com/icons/${t.id}/${t.icon}.png?size=4096`;return React.createElement(l,{onPress:function(d){let{nativeEvent:o}=d;return u(r,o)}},n)});function M(){E(),z(),A()}return g.onUnload=M,g})({},vendetta.metro,vendetta.patcher,vendetta.metro.common);
